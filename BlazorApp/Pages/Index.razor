@page "/"

@using Syncfusion.Blazor.Navigations
@using Syncfusion.Blazor.Inputs
@using Syncfusion.Blazor.Buttons

<SfTab @ref="Tab">
  <TabEvents Selected="@ItemSelected"></TabEvents>
    <TabItems>
       <TabItem>
         <ChildContent>
             <TabHeader Text="Project Time"></TabHeader>
         </ChildContent>
            <ContentTemplate>
                <ul>
                    <li>Click on the "+" header to add dynamic tab items. </li>
                    <li>It displays input elements to get the new tab information. </li>
                    <li>Add details and click the "Add Tab" button to open the newly added tab.</li>
                </ul>
           </ContentTemplate>
     </TabItem>
         <TabItem>
             <HeaderTemplate>
                  <SfButton  Content="+"></SfButton>
                </HeaderTemplate>
          <ContentTemplate>
            <div id="form-container">
                <div>
                   <SfTextBox @bind-Value="@dynamicHeader" Placeholder="Enter Header"></SfTextBox>
                </div>
                  <br />
                <div>
                   <SfTextBox @bind-Value="@dynamicContent" Placeholder="Enter Content"></SfTextBox>
                 </div>
                  <br />
                <div>
                   <SfButton Content="@Content" IsPrimary="true" @onclick="onClick"></SfButton>
                </div>
                </div>
            </ContentTemplate>
        </TabItem>
    </TabItems>
</SfTab>

@code {
    SfTab Tab;
    public string inputText { get; set; }
    public string Content = "Add Tab";
    public string dynamicHeader { get; set; }
    public string dynamicContent { get; set; }

    public void onClick(Microsoft.AspNetCore.Components.Web.MouseEventArgs args)
    {
        List<TabItem> source = new List<TabItem>()
        {
            new TabItem() { Header = new TabHeader() { Text = @dynamicHeader }, Content = @dynamicContent }
        };
        this.Tab.AddTab(source, this.Tab.Items.Count() - 1);
    }
    public void ItemSelected(Syncfusion.Blazor.Navigations.SelectEventArgs args)
    {
        if (args.SelectedIndex == this.Tab.Items.Count() - 1)
        {
            this.dynamicHeader = "";
            this.dynamicContent = "";
        }
        else if (args.SelectedIndex == 0)
        {
            inputText = string.Empty;
        }
    }
}